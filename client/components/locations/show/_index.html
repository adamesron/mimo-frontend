<location-settings-nav></location-settings-nav>

<md-content layout-padding layout="row" layout-wrap layout-align="center center" class="page-meta" ng-show="!integration.type">
  <div flex="100" flex-gt-md="60" flex-gt-lg="50">
    <md-card class="b-or">
      <md-card-title>
        <md-card-title-text>
          <span class="md-headline" translate>
            No Integration Found
          </span>
          <span class="md-subhead">
          </span>
        </md-card-title-text>
      </md-card-title>
      <md-card-content>
        <p>An integration is needed before you can add devices.</p>
        <p>Please ensure that you have set up your integration correctly, see <a href="http://docs.oh-mimo.com/integrations" target='_blank'>the docs</a> for more information.</p>
      </md-card-content>
      <md-card-actions layout="row" layout-align="end center">
        <md-button class="md-primary md-raised" ng-href="/#/{{ location.slug }}/integration">
          Create Integration
        </md-button>
      </md-card-actions>
    </md-card>
  </div>
</md-content>

<span ng-if="integration.type">
  <md-content layout-padding layout="row" layout-wrap layout-align="center center" class="page-meta" ng-show="location.has_devices == false">
    <div flex="100" flex-gt-md="60" flex-gt-lg="50">
      <md-card class="b-or">
        <md-card-title>
          <md-card-title-text>
            <span class="md-headline" translate>
              No Devices Found
            </span>
            <span class="md-subhead">
            </span>
          </md-card-title-text>
        </md-card-title>
        <md-card-content>
          <p>There are no devices assosciated with this location.</p>
          <p>Please ensure that you have set up your integration correctly. Please visit the <a href="http://docs.oh-mimo.com/integrations" target='_blank'>help-centre</a> for more information.</p>
        </md-card-content>
        <md-card-actions layout="row" layout-align="end center">
          <md-button ng-href="/#/{{ location.slug }}/integration">
            Create Integration
          </md-button>
        </md-card-actions>
      </md-card>
    </div>
  </md-content>

  <md-content layout-padding layout="row" layout-wrap layout-align="center center" class="page-meta" ng-if="location.has_devices">
    <div flex="100" flex-gt-md="90" flex-gt-lg="80">
      <location-boxes filter="query" loading="loading" token="{{location.pubsub_token}}" streaming="location.streamingUpdates"></location-boxes>
      <div>
        <md-button ng-disabled="!integration.type" class="md-raised" ng-click="addBoxes()">Add Boxes</md-button>
      </div>
    </div>
  </md-content>
</span>
